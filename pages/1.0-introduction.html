<script>
    if (urlParam.has('boxSpec')) {
        pageScope.bases = urlParam.get('boxSpec').split('x').map( d => Number(d));
    } else {
        pageScope.bases = [5,3];
    }
    pageScope.box = Box.of( pageScope.bases );

    // TODO: fix inverse mixed up in tables/cycles etc.
</script>

<h2>Introduction</h2>

Consider a box with <a class="eval" title="pageScope.box.rank()">RANK</a> sides (or bases) of different lengths: for example <a class="eval" title="pageScope.box.specification()">SPEC</a>;
it contains <a class="eval" title="pageScope.box.length">VOLUME</a> points.
<br/>
<br/>
The specification <a class="eval" title="pageScope.box.specification()">SPEC</a> means to lay the points out
(one-by-one, left-to-right, bottom-to-top) as
"<a class="eval" title="pageScope.box.explanation()"></a>".
<br/>
<br/>
<span class="evalNode" title="pageScope.box.packingTable()"></span>
<br/>
<br/>

When laying out points:
<ul>
    <li>A unique coordinate occurs for each point, being the sequence of offsets from the origin in each base.</li>
    <li>A unique index number occurs for each point, being the number of points laid out prior to the current point.</li>
</ul>

A basis convention is imposed to normalize coordinates so that they uniquely identify points irrespective of the order of the bases in a specification:
<ul>
    <li>
        A box specification is canonical if the sequence of bases, left-to-right, is monotonic decreasing (i.e. never increasing).
        <br/>
        NB: Duplicate bases will therefore occur contiguously and can be safely ignored.
    </li>
</ul>
All other box specifications in the same bases are permutations of the canonical box specification
and the same permutation is applied in reverse to normalize coordinates.
<br/>
<br/>
For example, the reverse specification <a class="eval" title="pageScope.box.specification( invert = true )">SPEC</a> means to lay the points out
(one-by-one, left-to-right, bottom-to-top) as
"<a class="eval" title="pageScope.box.explanation( invert = true )"></a>".
<br/>
<br/>
<span class="evalNode" title="pageScope.box.packingTable( invert = true )"></span>
<br/>
<br/>

Given the coordinates are normalized, then <a class="eval" title="pageScope.box.specification( invert = true )">SPEC</a>
is a reflection of the canonical box <a class="eval" title="pageScope.box.specification()">SPEC</a>
through the diagonal [ (<a class="eval" title="pageScope.box[0]"></a> ), (<a class="eval" title="pageScope.box[ pageScope.box.length - 1 ]"></a>) ].

<ul>
    <li>There will always be at least two points: an origin point and a terminal point that define this diagonal.</li>
    <li>the same (normalized) coordinate and the same index will occur
        for all points that lie on this diagonal
        for every permutation of the bases.</li>
</ul>
<br/>
<br/>

